/**
 * Separate the coding from the static content in a nice-ish way
 * @version v0.0.2 - 2014-09-27 * @link https://github.com/a8m/ng-static
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(a,b){"use strict";function c(a,b){return-1!==a.indexOf(b,a.length-b.length)}function d(a,b){return!a.indexOf(b)}function e(){return{restrict:"A",compile:function(a,b){var c=b[this.name].match(/^([^(]+?)\s*(\((.*)\))?$/),d=/[)]$/.test(b[this.name])?{file:": "+c[1],key:c[3]}:{file:"",key:c[1]};return a.text("{{ "+d.key+" | static"+d.file+" }}"),function(){}}}}function f(){var a,b,e,f;this.staticFiles=function(b){return a=b,this},this.addStaticFile=function(b){return a=a?i(a,b):b,this},this.staticValues=function(a){return b=a,this},this.setFilesSuffix=function(a){return e=a,this},this.setBaseUrl=function(a){return f=new RegExp(/\/$/).test(a)?a.substring(0,a.length-1):a,this},this.setDirectory=this.setBaseUrl,this.$get=["$q","$injector","staticFilesLoader",function(g,j,k){function l(a){return r[a]||r[Object.keys(r)[0]]}function m(){return r}function n(a){h(a,function(a){i(r,a)})}function o(){var b=[];return h(a,function(a,f){b.push(k.get({baseUrl:s.baseUrl,suffix:e,value:d(a,"/")||c(s.baseUrl,"/")?a:"/"+a,key:f}))}),g.all(b)}function p(){return h(b||[],function(a){var b={};b[a]=j.get(a),i(r,b)})}function q(){return p()&&o().then(n)}var r={},s={baseUrl:f||"",suffix:e,staticFiles:a,staticValues:b};return{configuration:s,get:l,getAll:m,init:q}}]}function g(a,b){function c(a,b){var c={};return c[b]=a,c}function d(d){var e=b.defer();return a({url:[d.baseUrl,d.value,d.suffix].join(""),method:"GET",params:""}).success(function(a){e.resolve(c(a,d.key))}).error(function(){e.reject(d.key)}),e.promise}return{get:d}}{var h=(b.isDefined,b.isUndefined,b.isFunction,b.isString,b.isNumber,b.isObject,b.isArray,b.forEach),i=b.extend;b.copy,b.equals}b.module("ng.static",["ng.static.filter","ng.static.provider","ng.static.directive"]).run(["ngStatic",function(a){a.init()}]),b.module("ng.static.directive",["ng.static.provider"]).directive("ngStatic",["$parse",e]),b.module("ng.static.filter",["ng.static.provider"]).filter("static",["$parse","ngStatic",function(a,b){return function(c,d){return a(c)(b.get(d))||c}}]),b.module("ng.static.provider",["ng.static.files-loader"]).provider("ngStatic",f),b.module("ng.static.files-loader",[]).factory("staticFilesLoader",["$http","$q",g])}(window,window.angular);
/**
 * Fast, Easy and Dynamic translation for AngularJS
 * @version v0.0.3 - 2014-10-20 * @link https://github.com/a8m/ng-translation
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(a,b){"use strict";function c(a,b){return-1!==a.indexOf(b,a.length-b.length)}function d(a,b){return!a.indexOf(b)}function e(){return{restrict:"A",compile:function(a,b){var c=b[this.name].match(/^([^(]+?)\s*(\((.*)\))?$/),d=/[)]$/.test(b[this.name])?{file:": "+c[1],key:c[3]}:{file:"",key:c[1]};return a.text("{{ "+d.key+" | translate"+d.file+" }}"),function(){}}}}function f(){var a,b,e,f,g,i;this.langsFiles=function(b){return a=b,this},this.addLangFile=function(b){return a=a?k(a,b):b,this},this.langsValues=function(a){return b=a,this},this.setFilesSuffix=function(a){return e=a,this},this.setBaseUrl=function(a){return f=new RegExp(/\/$/).test(a)?a.substring(0,a.length-1):a,this},this.fallbackLanguage=function(a){return g=a,this},this.setDirectory=this.setBaseUrl,this.$get=["$q","$injector","staticFilesLoader",function(l,m,n){function o(a){return h(a)?i=a:!1}function p(){return w[i]||w[g]}function q(a){return w[a]||w[Object.keys(w)[0]]}function r(){return w}function s(a){j(a,function(a){k(w,a)})}function t(){var b=[];return j(a,function(a,f){b.push(n.get({baseUrl:x.baseUrl,suffix:e,value:d(a,"/")||c(x.baseUrl,"/")?a:"/"+a,key:f}))}),l.all(b)}function u(){return j(b||[],function(a){var b={};b[a]=m.get(a),k(w,b)})}function v(){return u()&&t().then(s)}var w={},x={baseUrl:f||"",suffix:e,langsFiles:a,langsValues:b,fallbackLanguage:g,usedLanguage:i};return{configuration:x,get:q,getAll:r,getUsed:p,init:v,use:o}}]}function g(a,b){function c(a,b){var c={};return c[b]=a,c}function d(d){var e=b.defer();return a({url:[d.baseUrl,d.value,d.suffix].join(""),method:"GET",params:""}).success(function(a){e.resolve(c(a,d.key))}).error(function(){e.reject(d.key)}),e.promise}return{get:d}}{var h=(b.isDefined,b.isUndefined,b.isFunction,b.isString),i=(b.isNumber,b.isObject),j=(b.isArray,b.forEach),k=b.extend;b.copy,b.equals}b.module("ng-translation",["ng-translation.filter","ng-translation.provider","ng-translation.directive"]).run(["ngTranslation",function(a){a.init()}]),b.module("ng-translation.directive",["ng-translation.provider"]).directive("ngTranslate",["$parse",e]),b.module("ng-translation.filter",["ng-translation.provider"]).filter("translate",["$parse","$interpolate","ngTranslation",function(a,b,c){return function(d){var e=Array.prototype.slice.call(arguments,1),f=h(e[0])?"get":"getUsed",g=a(d)(c[f](e[0]));return e.length?i(e[0])?b(g)(e[0]):i(e[1])?b(g)(e[1]):g:g||d}}]),b.module("ng-translation.provider",["ng-translation.files-loader"]).provider("ngTranslation",f),b.module("ng-translation.files-loader",[]).factory("staticFilesLoader",["$http","$q",g])}(window,window.angular);